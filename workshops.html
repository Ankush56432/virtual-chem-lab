<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Workshops | Virtual Chemistry Lab</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>

  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">VirtualChemLab</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navLinks">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navLinks">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Workshops</a></li>
          <li class="nav-item"><a class="nav-link" href="virtual-lab.html">Virtual Lab</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
           <li class="nav-item"><a class="nav-link" href="blogs.html">Blogs</a></li> 
        </ul>
      </div>
    </div>
  </nav>

  <!-- Workshops Section -->
  <section class="py-5">
    <div class="container">
      <h1 class="text-center mb-5 fw-bold">Upcoming & Past Workshops</h1>

      <div class="row g-4" id="workshopContainer">


        <!-- Workshop Card 1 -->
        <div class="col-md-6 col-lg-4">
          <div class="card shadow h-100">
            <img src="assets/images/workshops1.jpg" class="card-img-top" alt="Workshop 1">
            <div class="card-body">
              <h5 class="card-title">Intro to Computational Chemistry</h5>
              <p class="card-text">Learn the basics of molecular modeling and simulations using powerful chemistry software tools.</p>
              <button class="btn btn-primary" onclick="payNow('WORKSHOP_ID', 'Workshop Title', 500)">Register & Pay ₹500</button>

            </div>
          </div>
        </div>

        <!-- Workshop Card 2 -->
        <div class="col-md-6 col-lg-4">
          <div class="card shadow h-100">
            <img src="assets/images/workshops2.jpg" class="card-img-top" alt="Workshop 2">
            <div class="card-body">
              <h5 class="card-title">Quantum Chemistry in Practice</h5>
              <p class="card-text">Explore Schrödinger’s equation, density functional theory (DFT), and hands-on tools like Gaussian and ORCA.</p>
              <a href="#" class="btn btn-secondary disabled">Completed</a>
            </div>
          </div>
        </div>

        <!-- Workshop Card 3 -->
        <div class="col-md-6 col-lg-4">
          <div class="card shadow h-100">
            <img src="assets/images/workshops3.jpg" class="card-img-top" alt="Workshop 3">
            <div class="card-body">
              <h5 class="card-title">Molecular Docking Techniques</h5>
              <p class="card-text">Hands-on training on docking simulations using AutoDock, PyMOL, and more. Ideal for drug discovery learners.</p>
              <a href="#" class="btn btn-secondary disabled">Completed</a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-dark text-white text-center py-3">
  <p class="mb-0">© <span id="year"></span> VirtualChemLab | Powered by Ankush Solanki</p>
</footer>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/script.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
async function payNow(workshopId, workshopTitle, amount) {
    try {
        // Step 1: Create order
        const res = await fetch('/api/payment/create-order', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ amount, workshopId, userId: 'USER_ID' }) // replace with logged-in user ID
        });
        const order = await res.json();

        // Step 2: Open Razorpay Checkout
        const options = {
            key: "YOUR_KEY_ID",  // same as backend
            amount: order.amount,
            currency: "INR",
            name: "Virtual Chemistry Lab",
            description: workshopTitle,
            order_id: order.id,
            handler: async function (response){
                // Step 3: Verify payment
                const verify = await fetch('/api/payment/verify-payment', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(response)
                });
                const result = await verify.json();
                if(result.status === 'success'){
                    alert('Payment Successful! Registration Completed.');
                } else {
                    alert('Payment Failed!');
                }
            },
            theme: { color: "#0d6efd" }
        };
        const rzp = new Razorpay(options);
        rzp.open();
    } catch (err) {
        console.error(err);
        alert('Something went wrong!');
    }
}
</script>


</body>
</html>
